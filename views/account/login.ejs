<% if (title) 
{ %>
    <h1><%= title %></h1>
    <%- messages() %>
    <% if (errors) { %>
    <ul class="notice">
    <% errors.array().forEach(error => { %>
    <li><%= error.msg %></li>
    <%  }) %>
    </ul>
    <% } %>
    <div class="form_center_box">
        <div class="form_box">
            <form id="loginForm" action="/account/login" method="post">
                <label for="account_email">Email</label><br>
                <input type="email" id="account_email" name="account_email" required placeholder="Enter a valid email address" pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"><br><br>

                <label for="account_password">Password</label><br>
                <input type="password" id="account_password" name="account_password" required pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$"><br><br>
                <input type="submit" value="login">
                <span id="pswdBtn">Show Password</span>
            </form>
        </div>
        <p>No account? <a href="/account/register">Sign-up</a></p>
    </div>    
    
    <script>
        const pswdBtn = document.querySelector("#pswdBtn");
        pswdBtn.addEventListener("click", function(){
            const pswdInput = document.getElementById("account_password");
            const type = pswdInput.getAttribute("type");
            if (type == "password"){
                pswdInput.setAttribute("type", "text");
                pswdBtn.innerHTML = "Hide Password";
            }else{
                pswdInput.setAttribute("type", "password");
                pswdBtn.innerHTML = "Show Password";
            }
        });
    </script>
    
    <% } else {
      res.redirect('/')
    } %>
